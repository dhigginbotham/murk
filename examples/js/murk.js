var murk=function(e){return"undefined"!=typeof module&&module.exports?module.exports=e:e}(function e(t){function r(e,t,r){if("string"!=typeof t&&"undefined"==typeof r&&(r=t,t=r),r="undefined"==typeof r?!0:!1,"undefined"!=typeof t&&"string"==typeof e){if(m.model[e]=t,m.elems.hasOwnProperty(e))return o(m.elems[e])}else Object.keys(m.model).length||r?a.call(m.model,e):m.model=e;return o(),y}function n(e){return"undefined"!=typeof e?m.model.hasOwnProperty(e)?m.model[e]:null:m.model}function o(e){var t;"undefined"!=typeof e?u(e):(t=m.dom.length?m.dom:i(),Array.prototype.map.call(t,u))}function s(e){e="undefined"==typeof e?document:e;var t=i(e);Array.prototype.map.call(t,u)}function i(e){return e="undefined"==typeof e?document:e,e.getElementsByTagName("*")}function u(e){var t,r;return t=c(e),r=t(p.selectorPrefix),r&&(t(p.selectorPrefix+"-id")||t(p.selectorPrefix+"-id",p.id),t(p.selectorPrefix+"-id")==p.id&&(m.elems.hasOwnProperty(r)||(m.elems[r]=e,~m.keys.indexOf(r)||(m.keys.push(r),m.dom.push(e))),m.model.hasOwnProperty(r)?decodeURIComponent(t(p.selectorPrefix+"-val"))!=m.model[r]&&f(r):t(p.selectorPrefix+"-bound",!1))),!1}function f(e){m.subscribers.hasOwnProperty(e)||(m.subscribers[e]=[l]);for(var t=0;t<m.subscribers[e].length;++t)m.subscribers[e][t].call(m.elems[e],e)}function d(e,t){function r(e){m.subscribers.hasOwnProperty(e)||(m.subscribers[e]=[l]),m.subscribers[e].push(t)}if(e instanceof Array)for(var n=0;n<e.length;++n)r(e[n]);else r(e);return y}function l(e){var t=c(this);p.trackCount&&(count=t(p.selectorPrefix+"-count"),t(p.selectorPrefix+"-count",count?parseInt(count,0)+1:1)),t(p.selectorPrefix+"-val",encodeURIComponent(m.model[e])),t(p.selectorPrefix+"-bound",!0),this.innerText=m.model[e]}function c(e){return"undefined"!=typeof e?function(e,t){return"undefined"==typeof t?this.getAttribute(e):this.setAttribute(e,t)}.bind(e):null}function a(e){if("object"==typeof this)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}if(!(this instanceof e))return new e(t);var m={model:{},dom:[],elems:{},subscribers:{},keys:[]},p={selectorPrefix:"data-murk",trackCount:!0,dev:!1,id:Date.now()};t&&a.call(p,t);var y=this;return this.collectDom=s,this.emit=f,this.get=n,this.set=r,this.on=d,p.dev&&(this.state=m),this});